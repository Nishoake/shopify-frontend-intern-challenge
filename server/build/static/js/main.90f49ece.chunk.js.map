{"version":3,"sources":["services/newQuery.js","components/Notification.js","App.js","index.js"],"names":["searchQuery","info","a","axios","get","response","data","Notification","completedList","className","App","useState","query","setQuery","searchResults","setSearchResults","nominationList","setNominationList","setCompletedList","useEffect","check","JSON","parse","localStorage","getItem","console","log","stringify","newQuery","fetchData","setItem","length","setTimeout","search","e","target","value","type","onChange","map","r","key","imdbID","Title","Year","disabled","movie","some","nominee","onClick","shortList","push","nominateMovie","n","filter","removeMovie","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"yTAUe,GAAEA,YAPA,uCAAG,WAAMC,GAAN,eAAAC,EAAA,sEAEKC,IAAMC,IAAN,UAJT,UAIS,YAAwBH,IAF7B,cAEZI,EAFY,yBAIXA,EAASC,MAJE,2CAAH,uDCWFC,EAZM,SAAC,GACpB,OAD0C,EAApBC,cAKpB,yBAAKC,UAAU,gBACb,4DAJK,M,MCsJIC,MApJf,WAEE,IAGA,EAA0BC,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAA0CF,mBAAS,IAAnD,mBAAOG,EAAP,KAAsBC,EAAtB,KACA,EAA4CJ,mBAAS,IAArD,mBAAOK,EAAP,KAAuBC,EAAvB,KACA,EAA0CN,oBAAS,GAAnD,mBAAOH,EAAP,KAAsBU,EAAtB,KAGAC,qBAAU,WACR,IAAMC,EAAQC,KAAKC,MAAMC,aAAaC,QAVd,kBAYxBC,QAAQC,IAAR,kBAAuBL,KAAKM,UAAUP,KAClCA,GACFH,EAAkBG,KAEnB,IAGHD,qBAAU,WAAM,4CACd,4BAAAjB,EAAA,sEACyB0B,EAAS5B,YAAYY,GAD9C,OACQP,EADR,OAEEU,EAAiBV,GAFnB,4CADc,sBAMD,KAAVO,GANY,WAAD,wBAOZiB,KAGD,CAACjB,EAAOI,IAGXG,qBAAU,WACRI,aAAaO,QAjCW,gBAiCgBT,KAAKM,UAAUX,IAE1B,IAA1BA,EAAee,SAChBb,GAAiB,GAEjBc,YAAW,WACTd,GAAiB,KAChB,QAEJ,CAACF,IAGJ,IAAMiB,EAAS,SAACC,GACdrB,EAASqB,EAAEC,OAAOC,QAuBpB,OAAItB,EAEA,yBAAKL,UAAU,QACb,4CAGA,kBAAC,EAAD,CAAcD,cAAeA,IAE7B,yBAAKC,UAAU,QACb,0CACA,8BACE,2BAAO4B,KAAK,OAAOD,MAAOxB,EAAO0B,SAAUL,MAI/C,yBAAKxB,UAAU,QACb,2CAAiBG,EAAjB,KACA,4BACGE,EAAcyB,KAAI,SAAAC,GAAC,OAClB,wBAAIC,IAAKD,EAAEE,QACRF,EAAEG,MADL,KACcH,EAAEI,KADhB,IAEE,4BACEP,KAAK,SAELQ,UA9BOC,EA8BiBN,EA7BtBxB,EAAe+B,MAAK,SAAAC,GAAO,OAAIA,EAAQN,SAAWI,EAAMJ,WAAqC,IAA1B1B,EAAee,QA8BpFkB,QAAS,kBA5CH,SAACD,GACrB,IAAME,EAAS,YAAOlC,GACtBkC,EAAUC,KAAKH,GACf/B,EAAkBiC,GAyCWE,CAAcZ,KAJ/B,aA3BQ,IAACM,OAwCjB,yBAAKrC,UAAU,QACb,4CACA,4BACGO,EAAeuB,KAAI,SAAAc,GAAC,OACnB,wBAAIZ,IAAKY,EAAEX,QACRW,EAAEV,MADL,KACcU,EAAET,KADhB,IAEE,4BACEP,KAAK,SACLY,QAAS,kBAtDL,SAACD,GACnB,IAAME,EAAYlC,EAAesC,QAAO,SAAAR,GAAK,OAAIA,EAAMJ,SAAWM,EAAQN,UAC1EzB,EAAkBiC,GAoDWK,CAAYF,KAF7B,iBAeV,yBAAK5C,UAAU,QACb,4CAIA,yBAAKA,UAAU,QACb,0CACA,8BACE,2BAAO4B,KAAK,OAAOD,MAAOxB,EAAO0B,SAAUL,MAI/C,yBAAKxB,UAAU,QACb,2CAAiBG,EAAjB,QC7IV4C,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.90f49ece.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/search'\n\nconst searchQuery = async info => {\n\n  const response = await axios.get(`${baseUrl}/${info}`)\n\n  return response.data\n}\n\nexport default { searchQuery }","import React from 'react'\n\nconst Notification = ({ completedList }) => {\n  if (!completedList) {\n    return null\n  }\n  return (\n    <div className=\"notification\">\n      <h1>Completed List ðŸŽŠ</h1>\n    </div>\n  )\n\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport newQuery from './services/newQuery'\nimport Notification from './components/Notification'\nimport './styles.css'\n\n\nfunction App() {\n  // Local Storage Key for the nominationList array\n  const LOCAL_STORAGE_KEY = \"shoppies-list\"\n\n  // State Variables\n  const [query, setQuery] = useState('')\n  const [searchResults, setSearchResults] = useState([])\n  const [nominationList, setNominationList] = useState([])\n  const [completedList, setCompletedList] = useState(false)\n\n  // Check the localStorage for an existing nominationList\n  useEffect(() => {\n    const check = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY))\n    \n    console.log(`check = ${JSON.stringify(check)}`)\n    if (check){\n      setNominationList(check)\n    }\n  }, [])\n\n  // Fetch movie results with useEffect hook\n  useEffect(() => {\n    async function fetchData() {\n      const response = await newQuery.searchQuery(query)\n      setSearchResults(response)\n    }\n\n    if(query !== ''){\n      fetchData()\n    }\n\n  }, [query, nominationList])\n\n  // Persist nominationList changes to localStorage and toggle completion notification/banner\n  useEffect(() => {\n    localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(nominationList))\n\n    if(nominationList.length === 5){\n      setCompletedList(true)\n\n      setTimeout(() => {\n        setCompletedList(false)\n      }, 3000)\n    }\n  }, [nominationList])\n\n  // Event Handler for search\n  const search = (e) => {\n    setQuery(e.target.value)\n  }\n\n  // Event Handler for Nominate button\n  const nominateMovie = (nominee) => {\n    const shortList = [...nominationList]\n    shortList.push(nominee)\n    setNominationList(shortList)\n  }\n\n  // Event Handler for Nominate button\n  const removeMovie = (nominee) => {\n    const shortList = nominationList.filter(movie => movie.imdbID !== nominee.imdbID)\n    setNominationList(shortList)\n  }\n\n  // Event Handler for rendering disabled button\n  const disableButton = (movie) => {\n    const result = (nominationList.some(nominee => nominee.imdbID === movie.imdbID) || nominationList.length === 5)\n    return result\n  }\n\n  // Conditionally render when search results are available\n  if (searchResults){\n    return (\n      <div className=\"flex\">\n        <h1>\n          The Shoppies\n        </h1>\n        <Notification completedList={completedList}/>\n\n        <div className=\"card\">\n          <p>Movie Title</p>\n          <form>\n            <input type=\"text\" value={query} onChange={search}></input>\n          </form>\n        </div>\n\n        <div className=\"card\">\n          <p>Results for \"{query}\"</p>\n          <ul>\n            {searchResults.map(r =>\n              <li key={r.imdbID}>\n                {r.Title} ({r.Year}) \n                <button \n                  type=\"button\" \n                  // disabled={false}\n                  disabled={disableButton(r)}\n                  onClick={() => nominateMovie(r)}\n                >\n                  Nominate\n                </button>\n              </li>\n            )}\n          </ul>\n        </div>\n\n        <div className=\"card\">\n          <p>Nominees List</p>\n          <ul>\n            {nominationList.map(n =>\n              <li key={n.imdbID}>\n                {n.Title} ({n.Year}) \n                <button\n                  type=\"button\"\n                  onClick={() => removeMovie(n)}\n                >\n                  Remove\n                </button>\n              </li>\n            )}\n          </ul>\n        </div>\n\n      </div>\n    )\n  } else {\n    return (\n      <div className=\"flex\">\n        <h1>\n          The Shoppies\n      </h1>\n\n        <div className=\"card\">\n          <p>Movie Title</p>\n          <form>\n            <input type=\"text\" value={query} onChange={search}></input>\n          </form>\n        </div>\n\n        <div className=\"card\">\n          <p>Results for \"{query}\"</p>\n        </div>\n\n      </div>\n    )\n  }\n  \n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}